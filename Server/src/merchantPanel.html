<HTML>
	<link rel="stylesheet" type="text/css" href="stylesheet.css" media="screen"/>
	<head>
	
	</head>
	<body>
		<p>Hello, world!</p>
		<input type="text" placeholder="Search..">
		<br>
		<button id="sticky1">Burrito</button>
		<button>Sticky Item</button>
		<button>Sticky Item</button>
		<button>Sticky Item</button>
		<br>
		<button>Sticky Item</button>
		<button>Sticky Item</button>
		<button>Sticky Item</button>
		<button>Sticky Item</button>
		</br>
		<button>Sticky Item</button>
		<button>Sticky Item</button>
		<button>Sticky Item</button>
		<button>Sticky Item</button>
		</br>
		<button id="shoppingCartButton">Shopping Cart</button>
		</br>
		<iframe id="shoppingCartIFrame" src="shoppingCart.html"></iframe>
		
		<script>
			var shoppingCart = [];
			
			// https://stackoverflow.com/questions/9153445/how-to-communicate-between-iframe-and-the-parent-site
			function sendDataToIFrame(frameID,sentData) {
				/*var event = new CustomEvent("welborn_pushDataToFrame",{ data: sentData });
				var iframe = document.getElementById(frameID);
				iframe.contentWindow.dispatchEvent(event);*/
				var iframe = document.getElementById(frameID);
				iframe.contentWindow.postMessage({ data: sentData },"*");
			}
		
			function pushShoppingCartData() {
				sendDataToIFrame("shoppingCartIFrame",shoppingCart);
			}
			
			document.getElementById("shoppingCartIFrame").onload = function() {
				pushShoppingCartData();
			}
			
			var burrito = {
				"UID": 1,
				"displayName": "El Grande Chap Ay ay ay - burrito",
				"price": 4.99,
				"amount": 1,
			};
			
			shoppingCart.push(burrito);
			
			document.getElementById("sticky1").onclick = function() {
				shoppingCart.push(burrito);
				pushShoppingCartData();
			}
		
			document.getElementById("shoppingCartButton").onclick = function() {
				var panel = document.getElementById("shoppingCartIFrame")
				if (panel.style.visibility == "visible") {
					panel.style.visibility = "hidden"
				} else {
					panel.style.visibility = "visible"
				}
			}
		</script>
	</body>
</HTML>